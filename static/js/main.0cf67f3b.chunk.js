(this["webpackJsonpwet-there.io"]=this["webpackJsonpwet-there.io"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(10),r=a.n(s),o=(a(34),a(35),a.p+"static/media/logo.8ec4208c.svg"),i=a(0);var l=function(){return Object(i.jsx)("nav",{className:"nav",children:Object(i.jsx)("div",{className:"nav__wrapper",children:Object(i.jsx)("img",{className:"nav__wrapper__logo",width:"180px",src:o,alt:"wet-there.io app for searching weather wherever you are"})})})};var b=function(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsxs)("p",{children:["Created by ",Object(i.jsx)("a",{href:"https://github.com/PiotrGasiorek",className:"link",children:"Piotr Gasiorek"})]})})},u=a(12),d=a(3),j=a(28),h=a(5),v=a(2),O=Object(h.c)({name:"savedLocations",initialState:{label:"Saved locations",id:2,message:{title:"You don't have any saved locations",paragraph:"Add places which you are interested in so that you can access them easily later"},locations:[]},reducers:{toggleLocation:function(e,t){var a=t.payload,c=-1!==Object(v.a)(e.locations).indexOf(a);e.locations=c?Object(v.a)(e.locations).filter((function(e){return e!==a})):[a].concat(Object(j.a)(e.locations))}}}),f=O.actions.toggleLocation,p=O.reducer,m=a(62);var _=function(e){var t=e.place,a=Object(d.b)(),c=Object(d.c)((function(e){return e})),n=c.savedLocations.locations.includes(t);return Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("h3",{className:"card__subtitle",children:t.location.name}),Object(i.jsxs)("h2",{className:"card__title",children:[t.current.temp_c," \u2103"]}),Object(i.jsx)("button",{className:"card__saveBtn "+(n?"card__saveBtn--saved":""),onClick:function(){return a(f(t))},children:Object(i.jsx)(m.a,{})})]})};var x=function(e){var t=e.listOfLocations;return Object(i.jsx)(i.Fragment,{children:t.map((function(e){return Object(i.jsx)(_,{place:e},e.id)}))})};var g=function(e){var t=e.message;return Object(i.jsxs)("div",{className:"tabMsg",children:[Object(i.jsx)("h2",{className:"tabMsg__title",children:t.title}),Object(i.jsx)("p",{className:"tabMsg__paragraph",children:t.paragraph})]})};var y=function(e){var t=e.tab,a=Object(d.c)((function(e){return e.tabsSwitcher.activeTabId})),c=""===t.locations[0]||0===t.locations.length||void 0===t.locations[0];return"Results"===t.label&&t.locations.error&&console.log(t.locations.error),Object(i.jsx)("div",{className:"tabs__content__wrapper "+(t.id===a?"tabs__content__wrapper--active":""),children:c?Object(i.jsx)(g,{message:t.message}):Object(i.jsx)(x,{listOfLocations:t.locations})})};var N=function(e){var t=e.tabs;return Object(i.jsx)("div",{className:"tabs__content",children:t.map((function(e){return Object(i.jsx)(y,{tab:e},e.id)}))})},w=Object(h.c)({name:"tabsSwitcher",initialState:{activeTabId:1},reducers:{setActiveTab:function(e,t){e.activeTabId=t.payload}}}),S=w.actions.setActiveTab,L=w.reducer;var T=function(e){var t=e.tab,a=Object(d.b)(),c=Object(d.c)((function(e){return e})).tabsSwitcher;return Object(i.jsx)("li",{className:t.id===c.activeTabId?"tabs__nav__tab--active tabs__nav__tab":"tabs__nav__tab",children:Object(i.jsx)("button",{className:"tabs__nav__tab__btn",onClick:function(){return e=t.id,void a(S(e));var e},children:t.label})},t.id)};var k=function(e){var t=e.tabs;return Object(i.jsx)("ul",{className:"tabs__nav",children:t.map((function(e){return Object(i.jsx)(T,{tab:e},e.id)}))})};var R=function(){var e=Object(d.c)((function(e){return e})).searchResult,t=Object(d.c)((function(e){return e})).savedLocations;return Object(i.jsxs)("div",{className:"tabs",children:[Object(i.jsx)(k,{tabs:[e,t]}),Object(i.jsx)(N,{tabs:[e,t]})]})};var A,C=function(e){var t=e.searchedLocation;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(R,{searchedLocation:t})})},I=a(13),F=a(16),M=a.n(F),P=a(26),B=a(27),G=a.n(B),q=function(e){var t=e;return t.id=Math.random(),t},D=Object(h.b)("search/getLocation",function(){var e=Object(P.a)(M.a.mark((function e(t){var a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"1d24a209e05a4580954110817213010",console.log(t.coords),a=t,t.coords&&(console.log("run"),a="".concat(t.coords.latitude,",").concat(t.coords.longitude)),console.log(a),c="https://api.weatherapi.com/v1/current.json?key=".concat("1d24a209e05a4580954110817213010","&q=").concat(a,"&aqi=no"),console.log(c),e.next=9,G.a.get(c).then((function(e){return e.data}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(h.c)({name:"searchResult",initialState:{label:"Results",id:1,message:{title:"No search results available",paragraph:"Find the location you are looking for by using the form above or check weather in your current location"},locations:[]},extraReducers:(A={},Object(I.a)(A,D.pending,(function(e){e.status="loading"})),Object(I.a)(A,D.fulfilled,(function(e,t){e.status="success",e.locations=[q(t.payload)]})),Object(I.a)(A,D.rejected,(function(e){e.status="failed"})),A)}).reducer,J=a(63);var Y=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],s=Object(d.b)(),r=function(e){e?s(D(e)):(s(D(a)),console.log("hey")),s(S(1))};return Object(i.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),r()},children:[Object(i.jsxs)("div",{className:"form__searchbox",children:[Object(i.jsx)("input",{type:"text",placeholder:"Type here...",value:a,onChange:function(e){n(e.target.value)},className:"form__searchbox__input"}),Object(i.jsx)("button",{className:"form__searchbox__btn",children:"Search"})]}),Object(i.jsxs)("button",{className:"form__btn",type:"button",onClick:function(){navigator.geolocation.getCurrentPosition(r)},children:[Object(i.jsx)(J.a,{}),Object(i.jsx)("span",{className:"form__btn__txt",children:"Get my location"})]})]})};var V=function(e){return Object(i.jsxs)("header",{className:"header",children:[Object(i.jsxs)("h1",{className:"header__title",children:["Search for weather wherever you are ",Object(i.jsx)("br",{})," with wet-there.io"]}),Object(i.jsx)(Y,{handleApiResponse:e.handleApiResponse})]})};var z=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)(V,{handleApiResponse:function(e){n(e)}}),Object(i.jsx)(C,{searchedLocation:a})]})};var H=function(){return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsx)(l,{}),Object(i.jsx)(z,{}),Object(i.jsx)(b,{})]})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))},Q=Object(h.c)({name:"tabs",initialState:{tabs:{searchResults:{label:"Results",id:1,message:{title:"Nothing in here",paragraph:"Try to find the location you are looking for by using the form above or find your place"},locations:[]},savedLocations:{label:"Saved locations",id:2,message:{title:"You dont have any saved locations",paragraph:"Add places which you are interested in so that you can access them easily later"},locations:[]},recentlyViewed:{label:"Recently viewed",id:3,message:{title:"There are no locations in your history",paragraph:"Every place you search for will be saved here"},locations:[]}},activeTabId:1},reducers:{setActiveTab:function(e,t){e.activeTabId=t.payload}}}),U=(Q.actions.setActiveTab,Q.reducer),W=Object(h.a)({reducer:{tabs:U,searchResult:E,savedLocations:p,tabsSwitcher:L}});r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(d.a,{store:W,children:Object(i.jsx)(H,{})})}),document.getElementById("root")),K()}},[[61,1,2]]]);
//# sourceMappingURL=main.0cf67f3b.chunk.js.map